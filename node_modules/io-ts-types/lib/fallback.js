"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var t = require("io-ts");
exports.fallback = function (codec) { return function (a, name) {
    if (name === void 0) { name = "fallback(" + codec.name + ")"; }
    var isFallbackValid = codec.is(a);
    return new t.Type(name, codec.is, function (i, context) {
        var validation = codec.validate(i, context);
        return validation.isLeft() && isFallbackValid ? t.success(a) : validation;
    }, codec.encode);
}; };
//# sourceMappingURL=fallback.js.map